{"uid":"b3ae9e219c124a12","name":"test_fail_and_rollback","fullName":"tests.integration.test_upgrade#test_fail_and_rollback","historyId":"997774fbf319c1a457fb1c7123a70c21","time":{"start":1719195228199,"stop":1719195450593,"duration":222394},"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","descriptionHtml":"<p>Upgrade to an invalid version and test rollback.</p>\n<pre><code>Relies on the charm built in the previous test (test_upgrade_from_edge).\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1719194936464,"stop":1719194936714,"duration":250},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1719194936464,"stop":1719194936464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1719194936464,"stop":1719194936464,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719195228198,"stop":1719195228198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719195228198,"stop":1719195228199,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Upgrade to an invalid version and test rollback.\n\n    Relies on the charm built in the previous test (test_upgrade_from_edge).\n    ","status":"passed","steps":[],"attachments":[{"uid":"783cca910fb4524c","name":"log","source":"783cca910fb4524c.txt","type":"text/plain","size":4087}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"ops_test::finalizer","time":{"start":1719195450594,"stop":1719195459476,"duration":8882},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719195450594,"stop":1719195450594,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719195459477,"stop":1719195459477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719195459477,"stop":1719195459477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719195459477,"stop":1719195459477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_upgrade"},{"name":"host","value":"fv-az1152-548"},{"name":"thread","value":"12346-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f6a6a89c317f5f3d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":17,"unknown":7,"total":27},"items":[{"uid":"cb46a71f5783419","reportUrl":"../122//#testresult/cb46a71f5783419","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+4a14a01\n  mysql-router-k8s/1 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+4a14a01\n  mysql-router-k8s/2 [idle] active: Router 8.0.36+testupgrade running; Charmed operator 1.2+4a14a01","time":{"start":1719109019929,"stop":1719110313566,"duration":1293637}},{"uid":"dc6a368fc96060f9","reportUrl":"../121//#testresult/dc6a368fc96060f9","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+4a14a01\n  mysql-router-k8s/1 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+4a14a01\n  mysql-router-k8s/2 [idle] active: Router 8.0.36+testupgrade running; Charmed operator 1.2+4a14a01","time":{"start":1719022165290,"stop":1719023438940,"duration":1273650}},{"uid":"7a490558ef11702a","reportUrl":"../119//#testresult/7a490558ef11702a","status":"passed","time":{"start":1718935889744,"stop":1718936100232,"duration":210488}},{"uid":"43bb330dd1fcadde","reportUrl":"../117//#testresult/43bb330dd1fcadde","status":"passed","time":{"start":1718849440951,"stop":1718849655804,"duration":214853}},{"uid":"7a7d46cdcf1a3474","reportUrl":"../115//#testresult/7a7d46cdcf1a3474","status":"passed","time":{"start":1718763212271,"stop":1718763446116,"duration":233845}},{"uid":"a03785d349e8b560","reportUrl":"../112//#testresult/a03785d349e8b560","status":"passed","time":{"start":1718676804116,"stop":1718677018038,"duration":213922}},{"uid":"2cc80c540049bc68","reportUrl":"../111//#testresult/2cc80c540049bc68","status":"passed","time":{"start":1718590567401,"stop":1718590774514,"duration":207113}},{"uid":"7bc32e4a40927aa8","reportUrl":"../110//#testresult/7bc32e4a40927aa8","status":"passed","time":{"start":1718504275761,"stop":1718504492935,"duration":217174}},{"uid":"15787f0dc6c831c","reportUrl":"../109//#testresult/15787f0dc6c831c","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql-router-k8s/0 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+4a14a01\n  mysql-router-k8s/1 [idle] active: Router 8.0.36+testupgrade running (restart pending); Charmed operator 1.2+4a14a01\n  mysql-router-k8s/2 [idle] active: Router 8.0.36+testupgrade running; Charmed operator 1.2+4a14a01","time":{"start":1718417486813,"stop":1718418760447,"duration":1273634}},{"uid":"9c0c8f621f946df6","reportUrl":"../104//#testresult/9c0c8f621f946df6","status":"passed","time":{"start":1718331150361,"stop":1718331354507,"duration":204146}},{"uid":"225a022262d6e3eb","reportUrl":"../86//#testresult/225a022262d6e3eb","status":"unknown","time":{}},{"uid":"a03d615fcfdb8478","reportUrl":"../85//#testresult/a03d615fcfdb8478","status":"unknown","time":{"start":1717758349739,"stop":1717758349739,"duration":0}},{"uid":"54ae4455ed793359","reportUrl":"../83//#testresult/54ae4455ed793359","status":"unknown","time":{"start":1717755266472,"stop":1717755266472,"duration":0}},{"uid":"c210396b7628f447","reportUrl":"../84//#testresult/c210396b7628f447","status":"unknown","time":{"start":1717755220389,"stop":1717755220389,"duration":0}},{"uid":"35215f657c04ec81","reportUrl":"../81//#testresult/35215f657c04ec81","status":"unknown","time":{"start":1717754646338,"stop":1717754646338,"duration":0}},{"uid":"22de8323b5f96af9","reportUrl":"../82//#testresult/22de8323b5f96af9","status":"unknown","time":{"start":1717754130829,"stop":1717754130829,"duration":0}},{"uid":"47e4d6fdac7832e6","reportUrl":"../80//#testresult/47e4d6fdac7832e6","status":"unknown","time":{"start":1717752147674,"stop":1717752147674,"duration":0}},{"uid":"3300b5e02b34ffc","reportUrl":"../1401//#testresult/3300b5e02b34ffc","status":"passed","time":{"start":1717638326228,"stop":1717638513832,"duration":187604}},{"uid":"f3b3480b4488c144","reportUrl":"../1400//#testresult/f3b3480b4488c144","status":"passed","time":{"start":1717551673319,"stop":1717551868284,"duration":194965}},{"uid":"13312bf716d7844a","reportUrl":"../1396//#testresult/13312bf716d7844a","status":"passed","time":{"start":1717465293818,"stop":1717465479508,"duration":185690}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"b3ae9e219c124a12.json","parameterValues":[]}